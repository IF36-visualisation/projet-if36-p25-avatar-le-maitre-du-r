---
title: "Rapport Analyse IF36 - Catalogue des jeux Steam"
author: "Hoang-Vi√™t LE, Paul LASSASEIGNE, Florian LOPITAUX et Jules PERRIN"
date: "2025-04-28"
output:
  html_document:
    template: template.html
editor_options: 
  markdown: 
    wrap: sentence
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE, 
  warning = FALSE,
  results = 'hide' 
)

```

```{r library importation}
# Importation des library
library(scales)
library(lubridate)
library(tidyverse)
library(corrr)
library(knitr)
library(treemapify)
```

```{r configuration}
# Ce chunck permet de configurer le style de l'ensemble des visualisations

# Choix du font/police d'√©criture
primary_font <- "Helvetica"
secondary_font <- "Roboto"

# Taille du texte
title_fontsize <- 16
axis_fontsize <- 12
text_fontsize <- 10
legend_fontsize <- 10

# Choix des couleurs
primary_color    <- "#1A9FFF" 
secondary_color  <- "#324D67" 
background_color <- "#171D25" 
accent_color     <- "#66C0F4"
font_color       <- "#DCDEDF" 
  
# Couleurs de remplissage 
primary_palette <- c(
  "#66C0F4",
  "#6767F5",
  "#1A9FFF",
  "#6794F5",
  "#5E8AA4",
  "#B8CCF5",
  "#3B6E8F", 
  "#9567F5",
  "#A3C9F5" 
)

# Scale gradiant
steam_color_gradient <- scale_color_gradient(
  low = "#A3C9F5",
  high = "#1A2836"
)

steam_fill_gradient <- scale_fill_gradient(
  low = "#A3C9F5",
  high = "#1A2836"
)
  
# Th√®me ggplot
steam_theme <- theme_minimal(base_family = primary_font) + 
  theme(
    plot.background = element_rect(fill = background_color, color = background_color),
    panel.background = element_rect(fill = background_color, color = NA),
    panel.border = element_blank(),
    panel.grid.major = element_line(color = "#2A3744"),
    panel.grid.minor = element_blank(),
    axis.text = element_text(color = font_color),
    axis.title = element_text(color = font_color, face = "bold"),
    plot.title = element_text(color = accent_color, face = "bold", size = 16),
    plot.subtitle = element_text(color = font_color, size = 12),
    legend.background = element_rect(fill = background_color, color = NA),
    legend.text = element_text(color = font_color),
    legend.title = element_text(color = font_color, face = "bold")
  )
```

# Introduction

### Steam

Steam est une plateforme de distribution de jeux vid√©o d√©velopp√©e par Valve.

Elle permet aux utilisateurs d‚Äôacheter, t√©l√©charger et jouer √† une grande vari√©t√© de jeux sur PC, Mac et Linux.
En plus de proposer un vaste catalogue de jeux (environ 140 000 jeux), Steam offre des √©valuations et avis de joueurs sur les jeux de son catalogue.

![](img/store_home_share.jpg)

------------------------------------------------------------------------

# Donn√©es

Dans le cadre de notre projet, nous avons choisi d'√©tudier divers jeux de donn√©es autour du catalogue de jeux Steam.
Les datasets utilis√©s lors de ce projet sont les suivants :

-   [Dataset de NewbieIndieGameDev datant d'Octobre 2024](https://github.com/NewbieIndieGameDev/steam-insights) (140 000 jeux recens√©s)

Les datasets sont sous format de diff√©rents fichiers csv.
Cependant, NewbieIndieGameDev utilisant probablement un logiciel tiers pour manipuler ses donn√©es, certains csv sont mal format√©s et imparsables par un programme (donn√©es json dans une colonne, balises html, ...).
<br> Nous devons donc les modifier au pr√©alable.
Nous avons d√©j√† "reformat√©" le fichier **games.csv** afin de le rendre lisible par nos programmes et v√©rifier que nous sommes bien capables de les traiter pour notre projet.
<br> Ainsi dans le dossier data : pour chaque fichier qui poss√®de ce probl√®me, il y aura un fichier **raw\_**\<nom_du_fichier\>.csv qui sont les donn√©es brutes ("illisibles") et **clean\_**\<nom_du_fichier\>.csv qui sont les donn√©es reformat√©es pour qu'elles soient "lisibles".

Ces datasets poss√®dent de nombreuses variables.
Nous allons nous concentrer sur ceux qui nous semblent assez pertinentes √† analyser.
Description des fichiers et de leur contenu :

-   **`games.csv`** : regroupe les m√©tadonn√©es des jeux, notamment :
    -   `app_id` (*discr√®tes*) : identifiant unique du jeu sur Steam
    -   `name` (*nominales*) : titre du jeu
    -   `price` (*continues*) : prix d'achat
    -   `languages` (*nominales*) : les langues disponibles sur le jeu
-   **`steamspy.csv`** : fournit des donn√©es issues de SteamSpy, incluant :
    -   `app_id` (*discr√®tes*) : identifiant unique du jeu sur Steam
    -   `developer` (*nominales*) : studio de d√©veloppement
    -   `publisher` (*nominales*): √©diteur du jeu
    -   `owners_range`(*discretes/continues*) : plage estim√©e du nombre de propri√©taires du jeu
    -   `playtime_median` (*discr√®tes*) : dur√©e m√©diane de jeu par utilisateur
    -   `concurrent_users_yesterday` (*discr√®tes*) : nombre total de joueurs connect√©s (octobre 2024)
    -   `genres` (*nominales*) : cat√©gorie du jeu
-   **`tags.csv`** : r√©pertorie les tags attribu√©s √† chaque jeu (diff√©rents des genres).
    -   `app_id` (*discr√®tes*) : identifiant unique du jeu sur Steam
    -   `tag` (*nominales*) : tag associ√© au jeu
-   **`reviews.csv`** : contient des informations sur les avis des joueurs :
    -   `app_id` (*discr√®tes*) : identifiant unique du jeu sur Steam
    -   `review_score_description` (*oridnales*) : √©valuation globale (Overwhelmingly Positive, Very Positive, Mixed, etc.)
    -   `positive` / `negative` (*nominales*) : nombre d‚Äôavis positifs et n√©gatifs
    -   `metacritic_score` (*discr√®tes*) : note Metacritic
    -   `recommendations` (*discr√®tes*) : nombre de recommandations sur Steam
-   **`categories.csv`** : liste les cat√©gories officielles Steam associ√©es aux jeux.
    -   `app_id` (*discr√®tes*) : identifiant unique du jeu sur Steam
    -   `category` (*nominales*) : cat√©gorie associ√©e au jeu

------------------------------------------------------------------------

# Plan d'analyse

Nous tenons √† √©viter de reproduire les m√™mes analyses et visualisations que NewbieIndieGameDev disponible sur ce lien : [Vid√©o sur l'analyse des donn√©es par NewbieIndieGameDev](https://www.youtube.com/watch?v=qiNv3qv-YbU)

Avec ces nombreuses donn√©es et variables, de nombreuses pistes d'analyse sont possibles :

### Notes et avis des joueurs

-   Une corr√©lation est-elle identifiable entre les avis/note (M√©tacritics ou joueurs) et le temps de jeu ?
-   Les avis Metacritic sont-elles corr√©l√©es avec les avis donn√©es par les joueurs sur la plateforme ?
-   Voir l'√©volution des √©valuations des joueurs des jeux AAA

### Genres des jeux

-   Quels sont les cat√©gories les plus populaires sur Steam actuellement ?
-   Quel est la tendance des jeux sortis r√©cemment ? (genre, jeux ind√©pendants ou AAA, etc...)
-   Observer l'√©volution des genres de jeu sortis pour d√©celer des "modes" et p√©riode o√π certains genre de jeux √©tait les plus populaires ?
-   √Ä partir des r√©sultats de l'observation pr√©c√©dente, essayer de comprendre une mont√©e ou baisse des genres.
    -   Exemple (simple) : est-ce que la croissance du genre battle royale peut-√™tre corr√©l√©e/caus√©e avec la sortie du jeu Fortnite
    -   Exemple (complexe) : Peut-on observer une corr√©lation entre la sortie de jeux en ligne et le d√©ploiement d'internet dans le monde (n√©cessite de trouver des donn√©es sur le d√©ploiement d'internet)

### Jeux ind√©pendants vs AAA

-   Les jeux ind√©pendants obtiennent-ils des meilleures √©valuations que les AAA ?
-   Quelle est la dur√©e de vie d'un jeu ind√©pendant compar√©e √† un AAA? (on essayera de prendre des jeux avec des genres assez similaires)
-   Les genres/tags des jeux ind√©pendants sont-ils plus "innovants" que les AAA ?

### Prix

-   Quels sont les facteurs qui impactent globalement le prix ? (les genres/tags de jeux les plus chers, plus de langues disponibles \<=\> prix plus chers ?)
-   Comparer des jeux avec des avis/notes similaires mais des prix diff√©rents pour voir si le temps de jeu moyen est impact√© (est-ce que le prix peut influer le joueur √† plus jouer pour le "rentabiliser")
-   Comparer les moyennes des prix des jeux par d√©veloppeurs / studio de d√©veloppement, pour potentiellement identifier des strat√©gies √©conomiques chez certains.

### Jeux en ligne

-   Quels sont les types de jeu en ligne les plus populaires sur Steam ? (FPS, MMO, etc...)
-   D√©celer certains jeux avec un fort nombre de joueurs connect√©s et essayer de l'associer √† un √©v√®nement √† ce moment (octobre 2024) qui explique ce nombre √©lev√© : mise √† jour cons√©quente, √©v√®nement d'influenceur relan√ßant l'int√©r√™t pour le jeu, etc...

### Diff√©rences culturelles/g√©ographique et leurs impacts

-   Etudier les langues disponibles selon les jeux des d√©veloppeurs afin de potentiellement d√©celer des march√©s/r√©gions prioris√©s.

## Variables √† comparer/Visualisations √† r√©aliser

Voici une liste non exhaustive des variables compar√©es ainsi que les visualisations que l'on va r√©aliser :

-   Nombre de jeux par genre/cat√©gorie, avec possibilit√© de filtrer par date de sortie pour analyser les tendances r√©centes.
-   Comparaison entre les scores Metacritic et les avis des utilisateurs sur Steam.
-   Corr√©lation entre le nombre de langues disponibles et le nombre de propri√©taires d‚Äôun jeu.
-   Comparaison entre les jeux issus d‚Äôun studio ind√©pendant et ceux d‚Äôun grand studio, en comparant l‚Äô√©volution des ventes r√©alis√©es, le prix des jeux et les avis des joueurs (ex : les jeux du studio Supergiant Games vs Ubisoft).
-   Analyse des combinaisons de genres les plus fr√©quentes pour les jeux ind√©pendants et les jeux AAA, afin de mettre en √©vidence des diff√©rences de positionnement. - √âvolution des prix de lancement des jeux au fil du temps.

## Probl√®mes et limitations

-   Le dataset que l'on a choisi est un "snapshot" du SteamLibrary datant d'octobre 2024. On ne pourra pas r√©aliser de comparaisons dans le temps √† part dans certains rares cas o√π les variables nous le permettent (prix initial d'un jeu, etc...)
-   Pour certaines donn√©es notamment provenant de SteamSpy, ce sont des estimations donc les analyses sur ces donn√©es perdront une certaine pr√©cision

------------------------------------------------------------------------

```{r import dataset}

# Utilis√© par Paul
reviews <- read_csv("data/raw_reviews.csv") %>%
    filter(grepl("^\\d+$", app_id)) %>%
    mutate( app_id = as.character(app_id))
tags <- read_csv("data/tags.csv")

# Utilis√© par Vi√™t 
# Regrouper les genres des fichiers categories et tags sous une m√™me ligne
tags_regroup <- read.csv("data/tags.csv") %>% 
  group_by(app_id) %>% 
  summarize(tags = paste(tag, collapse = ","))

categories <- read.csv("data/categories.csv") %>% 
  group_by(app_id) %>% 
  summarize(categories = paste(category, collapse = ","))

# Importer les autres tableaux
steamspy <- read_csv("data/steamspy.csv")

# Import de clean_games
clean_games <- read.csv("data/clean_games.csv", sep=";")

# Cr√©er un dataframe contenant toutes les informations en r√©alisant des jointures
steamData <- left_join(clean_games, steamspy, by="app_id") %>% 
  left_join(tags_regroup, by="app_id") %>% 
  left_join(categories, by="app_id") %>%
  mutate(app_id = as.character(app_id)) %>%
  left_join(reviews, by="app_id")

# Mettre les tags et cat√©gories en lowercase pour les str_detect
steamData <- steamData %>%
  mutate(
    # Nettoyer les champs : enlever les espaces superflus, mettre en minuscules pour str_detect
    categories = str_to_lower(str_trim(categories)),
    tags = str_to_lower(str_trim(tags))
  )

# Trabnsformer toutes les valeurs "\\N" en NA
steamData <- steamData %>%
  mutate(across(where(is.character), ~ na_if(., "\\N")))

# Retirer les colonnes en double et renomme les colonnes pr√©c√©dentes
steamData <- steamData %>%
  select(-price.y, -languages.y) %>%
  rename(price = price.x,
         languages = languages.x)

# Modifier la colonne initial_price pour qu'elle corresponde √† sa valeur en USD
# Checker si le jeu poss√®de une valeur valide (pour le diviser par 100 sinon NA)
steamData <- steamData %>%
  mutate(initial_price = if_else(!is.na(initial_price), as.double(initial_price) / 100, NA) )

# Ajouter les colonnes "proportion_avis_positif" et "proportion_avis_positif_steamspy"
steamData <- steamData %>%
  mutate(
    proportion_avis_positif = if_else(total != 0, positive / total, NA),
    proportion_avis_positif_steamspy = if_else((steamspy_positive + steamspy_negative) != 0, steamspy_positive / (steamspy_positive + steamspy_negative), NA)
  )

# Transformer les donn√©es string en valeurs 
steamData <- steamData %>%
  mutate(
    release_date = ymd(release_date),
    initial_price = as.numeric(initial_price),
    price = as.numeric(price),
    concurrent_users_yesterday = as.numeric(concurrent_users_yesterday),
    metacritic_score = as.numeric(metacritic_score),
    steamspy_score_rank = as.numeric(steamspy_score_rank),
    recommendations = as.numeric(recommendations)
  )

# Utilis√© par Florian

games <- read_delim("./data/clean_games.csv", delim=";", show_col_types = FALSE)

# Utilis√© par Jules

steamspy <- read_csv("data/steamspy.csv")
```

# Analyse descriptive

Dans cette partie, nous allons chercher √† analyser les diff√©rentes variables de notre dataset import√© afin d'appr√©hender les donn√©es que nous avons choisis.
Nous chercherons √† calculer les moyennes et les √©carts-types des variables num√©riques (pour le prix, le nombre d'avis, etc...).
Nous √©tudierons √©galement la r√©partition de diff√©rentes valeurs au sein du dataset (tags, owner_range, etc..).
Enfin, nous construirons √©galement une matrice de corr√©lation afin d'examiner les possibles relations entre les variables du dataset.

## Moyennes et √âcarts-types

```{r mean_and_sd}
# Variables pertinents pour la moyenne et l'√©cart-type
steamSummarise = steamData %>%
  summarise(
    moyenne_joueurs = mean(concurrent_users_yesterday, na.rm = TRUE),
    ecart_type_joueurs = sd(concurrent_users_yesterday, na.rm = TRUE),
    moyenne_prix = mean(price, na.rm=TRUE),
    ecart_type_prix = sd(price, na.rm = TRUE),
    moyenne_note = mean(review_score, na.rm=TRUE),
    ecart_type_note = sd(review_score, na.rm=TRUE),
    moyenne_metacritic_score = mean(metacritic_score, na.rm=TRUE),
    ecart_type_metacritic_score = sd(metacritic_score, na.rm=TRUE),
    moyenne_avis = mean(total, na.rm=TRUE),
    ecart_type_avis = sd(total, na.rm=TRUE),
)

# 1. Transforme en dataframe cl√©/valeur
df_long <- steamSummarise %>%
  pivot_longer(everything(), names_to = "variable_stat", values_to = "valeur")

# 2. S√©pare la colonne variable_stat en stat (moyenne/√©cart_type) et variable
df_long <- df_long %>%
  mutate(
    stat = case_when(
      grepl("^moyenne", variable_stat) ~ "Moyenne",
      grepl("^ecart_type", variable_stat) ~ "√âcart-type"
    ),
    variable = gsub("^(moyenne|ecart_type)_", "", variable_stat)
  ) %>%
  select(variable, stat, valeur)

# 3. On remet au format large avec une colonne par stat
tableau_stat <- df_long %>%
  pivot_wider(names_from = stat, values_from = valeur) %>%
  mutate(variable = case_when(
    variable == "joueurs" ~ "Nombre de joueurs actif",
    variable == "prix" ~ "Prix",
    variable == "note" ~ "Note sur Steam",
    variable == "metacritic_score" ~ "Note Metacritic",
    variable == "avis" ~ "Nombre d'avis",
    TRUE ~ variable
  ))

# Affichage
kable(tableau_stat, col.names = c("Variable", "Moyenne", "Ecart-Type"), caption = "Statistiques descriptives des principales variables", digits = 2)
```

### Notes :

-   La moyenne des notes Metacritics ne concerne que les jeux ayant re√ßu cette note
-   La moyenne des prix ne concerne uniquement les jeux payants

## R√©partition de diff√©rentes variables

### R√©partition de la plage de propri√©taires des jeux Steam

```{r owner_count_repartition}
# Compter le nombre de jeux par plage de propri√©taires
owners_count <- steamData %>%
  group_by(owners_range) %>%
  summarise(nb_jeux = n(), .groups = "drop")

# Enlever la colonne "NA" et traiter les plages
owners_count_clean <- owners_count %>%
  filter(!is.na(owners_range)) %>%
  mutate(
    # Extraire la borne inf√©rieure comme nombre (en retirant les virgules)
    owners_min = as.numeric(str_remove_all(str_extract(owners_range, "^[0-9,]+"), ",")),
    # R√©ordonner selon la borne inf√©rieure
    owners_range = fct_reorder(owners_range, owners_min)
  )

# Fonction pour convertir les nombres en format court (ex: 10000 -> 10k, 1000000 -> 1M)
shorten_number <- function(x) {
  x <- as.numeric(gsub(",", "", x))
  if (is.na(x)) return(NA_character_)
  else if (x >= 1e6) return(paste0(x / 1e6, "M"))
  else if (x >= 1e3) return(paste0(x / 1e3, "k"))
  else return(as.character(x))
}

# Modifier les labels en rempla√ßant " .. " par " - " et en raccourcissant les nombres
owners_count_clean <- owners_count_clean %>%
  mutate(
    owners_range_char = as.character(owners_range),
    owners_range_short = sapply(strsplit(owners_range_char, " \\.\\. "), function(x) {
      paste0(shorten_number(x[1]), " - ", shorten_number(x[2]))
    }),
    # Convertir en facteur en gardant l'ordre d'origine (avec owners_range)
      owners_range_short = factor(owners_range_short, levels = owners_range_short[order(owners_min)])
  )

# Visualisation
ggplot(owners_count_clean, aes(x = nb_jeux, y = owners_range_short)) +
  geom_col(fill = primary_color) +
  
  # Labels √† l'int√©rieur des barres pour les grandes valeurs (>= 100)
  geom_text(
    data = owners_count_clean %>% filter(nb_jeux >= 100),
    aes(x = nb_jeux, label = label_number(big.mark = " ")(nb_jeux)),
    hjust = 1.2, size = 3.5, color = "white"
  ) +
  
  # Labels √† l'ext√©rieur √† droite pour les petites valeurs (< 100)
  geom_text(
    data = owners_count_clean %>% filter(nb_jeux < 100),
    aes(x = nb_jeux, label = label_number(big.mark = " ")(nb_jeux)),
    hjust = -0.2, size = 3.5, color = "white"
  ) +
  
  scale_x_continuous(
    trans = pseudo_log_trans(base = 10),
    breaks = c(1, 10, 100, 1000, 10000, 100000),
    labels = label_number(big.mark = " ")
  ) +
  labs(
    title = "Nombre de jeux par plage de propri√©taires",
    x = "Nombre de jeux (√©chelle pseudo-log)",
    y = "Plage de propri√©taires"
  ) +
  steam_theme +
  coord_cartesian(clip = "off")
```

### Note :

-   Ces donn√©es proviennent de SteamSpy. Un autre outil existe pour estimer le nombre de copies vendues au total (Gamalytic), mais ce service est payant

### R√©partition des jeux Steam sortis par ann√©e

```{r jeux_par_annee}
# Extraire l'ann√©e et compter les jeux par ann√©e
jeux_par_annee <- steamData %>%
  mutate(annee_sortie = lubridate::year(release_date)) %>%
  filter(!is.na(annee_sortie)) %>%
  group_by(annee_sortie) %>%
  summarise(nb_jeux = n()) %>%
  arrange(annee_sortie)
```

```{r game_released_by_year_log}
ggplot(jeux_par_annee, aes(x = annee_sortie, y = nb_jeux)) +
  geom_col(fill = primary_color) +
  scale_x_continuous(breaks = pretty(jeux_par_annee$annee_sortie, n = 10)) +
  scale_y_continuous(
    trans = pseudo_log_trans(base = 10),
    breaks = c(1, 10, 100, 1000, 10000, 20000),
    labels = label_number(big.mark = " ")
  ) +
  labs(
    title = "Nombre de jeux sortis par ann√©e (√©chelle pseudo-log)",
    x = "Ann√©e de sortie",
    y = "Nombre de jeux (pseudo-log)"
  ) +
  steam_theme
```

### Observations :

-   On observe l'absence de jeux sortis en 2002.
-   On observe √©galement **une augmentation nette** √† partir de **2006**. Une explication plausible est que la plateforme Steam est sortie en 2003 et √©tait d√©di√©e √† la distribution des mises √† jour des jeux Valve. Ce n'est qu'√† la fin de l'ann√©e 2005 que Steam a d√©cid√© de distribuer des jeux tiers sur son march√©.
-   On observe une **augmentation brusque** en **2013-2014**. Ceci est le r√©sultat du programme **Steam Greenlight**, un service qui permettait aux d√©veloppeurs de soumettre leur jeu pour que la communaut√© Steam puisse voter pour ceux qui vont int√©grer le catalogue de la plateforme. Lanc√© en 2012, ce service va permettre √† plus en plus de jeux de pouvoir int√©grer le catalogue Steam.
-   Il faut prendre en compte √©galement que ce graphique utilise une √©chelle pseudo-logarithmique, lorsque l'on parlons d'augmentation nette, elle ne l'est pas r√©ellement en terme de chiffre. On vous affiche le graphique r√©el sans √©chelle logarithmique :

```{r game_released_by_year}
ggplot(jeux_par_annee, aes(x = annee_sortie, y = nb_jeux)) +
  geom_col(fill = primary_color) +
  scale_x_continuous(breaks = pretty(jeux_par_annee$annee_sortie, n = 10)) +
  scale_y_continuous(labels = label_number(big.mark = " ")) +
  labs(
    title = "Nombre de jeux sortis par ann√©e",
    x = "Ann√©e de sortie",
    y = "Nombre de jeux"
  ) +
  steam_theme
```

### Sources des explications :

-   Lien vers l'histoire de Steam : [Lien Wikip√©dia de Steam](https://en.wikipedia.org/wiki/Steam_(service))
-   Interview de Gabe Newell sur Steam Greenlight : [Interview sur Steam Greenlight en 2013](https://www.gamedeveloper.com/business/for-gabe-newell-greenlight-is-just-a-stepping-stone-to-a-bigger-endgame)
-   Post Reddit sur l'histoire de Steam Greenlight : [Lien vers le post Reddit](https://www.reddit.com/r/HobbyDrama/comments/zwmzoh/video_gameshobby_history_the_glow_of_steam/)

### R√©partition des genres des jeux Steam

```{r genres}
# S√©parer les genres (s'ils sont s√©par√©s par des virgules), enlever les espaces, et compter
genres_par_jeu <- steamData %>%
  filter(!is.na(genres)) %>%
  separate_rows(genres, sep = ",") %>%
  mutate(genres = str_trim(genres)) %>%
  group_by(genres) %>%
  summarise(nb_jeux = n()) %>%
  arrange(desc(nb_jeux)) %>%
  filter(nb_jeux > 1000)

genres_par_jeu %>%
  mutate(genres = fct_reorder(genres, nb_jeux)) %>%  # trie les genres selon le nombre de jeux
  ggplot(aes(x = nb_jeux, y = genres)) +
  geom_col(fill = primary_color) +
  geom_text(aes(label = label_number(big.mark = " ")(nb_jeux)), hjust = -0.1, color = font_color , size = 3) +
  labs(
    title = "Nombre de jeux par genre",
    x = "Nombre de jeux",
    y = "Genre"
  ) +
  scale_x_continuous(expand = expansion(mult = c(0, 0.1)), labels = label_number(big.mark = " ")) +
  steam_theme
```

### Observations :

-   Le genre le plus populaire dans le catalogue Steam est le genre `Indie`
-   On peut observer ensuite un nombre similaire pour les genres `Action` `Casual` et `Adventure` (\~ 36k jeux) et pour les genres `Simulation`, `Strategy` et `RPG` (\~ 17k jeux)

### Note :

-   Nous avons retir√© les genres qui ne comptaient moins de 1000 jeux pour se concentrer sur les genres principaux des jeux Steam. La plupart des autres genres retir√©s √©taient des genres de niche (Cin√©ma ou d'autres genres concernant les logiciels disponibles sur Steam).

## Matrice de corr√©lation

```{r correlation_matrix, dev.args = list(bg = background_color)}
# Matrice de corr√©lation
numeric_cols <- steamData %>%
  select(
    users = concurrent_users_yesterday,
    prix = price,
    prix_init = initial_price,
    avis_pos = positive,
    avis_neg = negative,
    avis_total = total,
    note_utilisateur = review_score,
    note_metacritic = metacritic_score,
    pos_spy = steamspy_positive,
    neg_spy = steamspy_negative,
    reco = recommendations,
    prop_positif = proportion_avis_positif,
    prop_positif_spy = proportion_avis_positif_steamspy
  ) %>% 
  filter(!is.na(avis_pos), !is.na(avis_neg), !is.na(note_utilisateur))

# 1. Calcul matrice corr√©lation
cor_matrix <- numeric_cols %>%
  select_if(is.numeric) %>%
  correlate()

vars <- cor_matrix$term

# 2. Passage en format long avec diagonale incluse
cor_long <- cor_matrix %>%
  pivot_longer(-term, names_to = "y", values_to = "r") %>%
  rename(x = term) %>%
  mutate(
    pos_x = match(x, vars),
    pos_y = match(y, vars),
    is_diag = pos_x == pos_y
  ) %>%
  filter(pos_x >= pos_y)

# 3. Plot ggplot avec diagonale gris clair
ggplot(cor_long, aes(x = x, y = y)) +
  # Tuiles hors diagonale
  geom_tile(
    data = cor_long %>% filter(!is_diag),
    aes(fill = r),
    color = background_color
  ) + 
  # Tuiles diagonales gris clair
  geom_tile(
    data = cor_long %>% filter(is_diag),
    aes(fill = r),
    color = background_color
  ) +
  # Valeurs de corr√©lation sauf diagonale
  geom_text(
    aes(label = ifelse(is_diag, "", round(r, 2))),
    color = font_color,
    size = 3
  ) +
  # Palette de corr√©lation
  scale_fill_gradient2(
    low = "#5E8AA4",     # bleu fonc√© Steam
    mid = "#66C0F4",     # bleu moyen
    high = "#1A9FFF",    # gris clair Steam
    midpoint = 0.5,
    limit = c(0, 1),
    name = "Corr√©lation"
  ) +
  # Positionnement axes
  scale_x_discrete(position = "top", limits = rev(vars)) +
  scale_y_discrete(limits = rev(vars)) +
  steam_theme +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 0, vjust = 0.5, size = 10),
    axis.text.y = element_text(size = 10),
    plot.caption = element_text(hjust = 0.5, size = 14, face = "bold"),
    axis.ticks = element_blank(),
    panel.grid = element_blank(),
  ) +
  labs(
    title = NULL,
    x = NULL,
    y = NULL,
    caption = "Matrice de corr√©lation de diff√©rentes variables du dataset",
  ) +
  theme(
    plot.caption = element_text(color = font_color, face = "bold", size = 16)
  ) +
  coord_fixed(ratio = 1)
```

### Observations :

-   Le nombre d'avis positif semble √™tre corr√©l√© avec le nombre de recommendation (0.93)
-   La note Metacritic n'est pas forc√©ment corr√©l√© avec la proportion de notes positives (0.53)
-   Certaines valeurs obtenues doivent √™tre discut√©es comme la corr√©lation entre le nombre de recommendation et le nombre d'avis positive/n√©gative. En effet, comme il s'agit d'une valeur compt√©e, cela peut biaiser l'interpr√©tation de la corr√©lation. En prenant en compte la proportion, nous obtenons une valeur quasi-nulle.

### Notes :

-   Il n'existe pas de corr√©lation n√©gative dans nos donn√©es
-   Nous avons omis la proportion d'avis n√©gative dans le tableau car nous obtenons juste le r√©sultat inverse que pour la corr√©lation pour les avis positive.

------------------------------------------------------------------------

# Partie Analyse Prix

## Contexte et probl√©matique

Dans cette section, nous allons nous int√©resser aux diff√©rents facteurs qui peuvent avoir une influence sur le prix des jeux du dataset.
Nous avons √† partir des donn√©es de notre jeu de donn√©es relev√© diff√©rents aspects qui seraient int√©ressants d'analyser afin de mieux comprendre comment peut √™tre d√©fini le prix d'un jeu.

Dans chaque sous-section de cette partie, nous expliquerons qu'est-ce que nous analysons et pourquoi.
Ensuite, nous montrerons les graphiques puis les analyserons, pour enfin en donner une conclusion ainsi que les limites de cette analyse.

### Pr√©paration des donn√©es

Avant de passer √† l'analyse, nous devons d'abord traiter et filtrer nos donn√©es afin d'obtenir nos visualisations.
Nous avons fait le choix de laisser les diff√©rentes parties de codes pour les traitements des donn√©es uniquement visible depuis le fichier Rmarkdown (avec explication en commentaires) et non sur le rapport "export√©" (au format HTML).

Nous avons fait ce choix car le rapport a pour but d'analyser et d'observer nos jeux de donn√©es et non d'expliquer comment faire tel ou tel graphique.

```{r filter_price}
# Filtrage des donn√©es pour n'obtenir que les jeux payant (exclu les jeux F2P et les jeux o√π on n'a pas de donn√©es sur le prix)

print(paste0("Nombre total de lignes du dataframe : ", nrow(games)))

games_price <- games %>% filter(is_free == 0)
print(paste0("Nombre de lignes sans les F2P : ", nrow(games_price)))

games_price <- games_price %>% filter(!is.na(price))
print(paste0("Nombre de lignes sans les F2P + erreurs de donn√©es : ", nrow(games_price)))

# Filtrage des donn√©es pour garder que les prix en EURO qui repr√©sente l'√©crasante majorit√© (~ 99%)

games_price <- games_price %>% filter(currency == "EUR")
print(paste0("Nombre de lignes avec uniquement les jeux en EURO : ", nrow(games_price)))
```

```{r filter_for_price_evolution_part}
# Ajoute une colonne pour la date de l'ann√©e, pour ensuite group√© par ann√©e et calculer la moyenne

games_evolve <- games_price %>%
  mutate(release_year = year(release_date)) %>%
  filter(price >= 15)

price_by_year <- games_evolve %>%
  group_by(release_year) %>%
  summarise(mean_price = mean(price, na.rm = TRUE)) %>%
  arrange(release_year)

# Separate indie and studio games to analyse their evolution separately

indie_games <- tags %>%
  filter(tag == "Indie")

studio_games <- tags %>%
  anti_join(indie_games, by = "app_id") %>%
  distinct(app_id) %>%
  mutate(tag = "Studio")

games_indie_and_studio <- bind_rows(indie_games, studio_games)
games_indie_and_studio = games_price %>%
  mutate(release_year = year(release_date)) %>%
  filter(price >= 5 & release_year > 2006) %>%
  inner_join(games_indie_and_studio, by = "app_id")

price_by_year_indie_and_studio <- games_indie_and_studio %>%
  group_by(release_year, tag) %>%
  summarise(mean_price = mean(price, na.rm = TRUE)) %>%
  arrange(release_year)
```

```{r filter_for_languages_evolution_part}
# Filtrage des donn√©es o√π il n'y a pas d'information sur les langues disponibles

games_languages <- games_price %>% filter(!is.na(languages))
print(paste0("Nombre de lignes sans les jeux avec aucune information sur les langues : ", nrow(games_languages)))

# Traitement des donn√©es pour compter le nombre de langues par jeu et le rajouter dans une nouvelle colonne 'nb_languages'

games_languages <- games_languages %>%
  mutate(
    nb_languages = str_split(languages, ",") %>% map_int(~ length(.x))
  )

head(games_languages)
```

```{r filter_tags}
games_price$app_id <- as.character(games_price$app_id)
tags$app_id <- as.character(tags$app_id)

merged_tags <- games_price %>%
  filter(is_free == 0, price >= 20) %>%
  inner_join(tags, by = "app_id")

# On compte les occurences des tags pour s√©lectionner les 50 plus fr√©quents

tag_counts <- merged_tags %>%
  group_by(tag) %>%
  summarise(n = n(), .groups = "drop") %>%
  arrange(desc(n))

top_50_tags <- tag_counts %>%
  slice_max(n, n = 50) %>%
  pull(tag)

# Calcul de la m√©diane des prix par tag
median_price_by_tag <- merged_tags %>%
  filter(tag %in% top_50_tags) %>%
  group_by(tag) %>%
  summarise(median_price = median(price, na.rm = TRUE), .groups = "drop") %>%
  filter(!is.na(tag) & tag != "")

median_price_top_50 <- median_price_by_tag %>%
  filter(tag %in% top_50_tags)
```

## L'√©volution des prix des jeux au fil du temps

Tout d'abord, nous allons nous int√©resser √† l'√©volution des prix au fil des ann√©es. Nous avons d√©cid√© de commencer par l√† car en tant que joueur, nous avons tous l'impression que durant les ann√©es le prix des jeux n'a cess√© d'augmenter. Encore aujourd'hui, c'est en plein dans l'actualit√© avec la sortie de la console de Nintendo : la Switch 2 et ses prix aux alentours des 80~90‚Ç¨.

Il nous pense donc int√©ressant de voir si ce ph√©nom√®ne s'illustre √† travers notre jeu de donn√©es.

### Visualisation

Voici en premier lieu, un graphique "scalar plot" montrant avec les ann√©es sur l'axe horizontal et le prix moyen des jeux de notre dataset sur l'axe vertical.

```{r graph_global_price_evolution}
# Tracer les deux courbes
ggplot(price_by_year, aes(x = release_year, y = mean_price)) +
  geom_line(color = "#1A9FFF", size = 1) +
  geom_point(color = "#9567F5", size = 2.5) +
  labs(title = "√âvolution du prix moyen des jeux Steam par ann√©e",
       x = "Ann√©e de sortie",
       y = "Prix moyen (‚Ç¨)") +
  theme_minimal() +
  steam_theme
```

Le second graphique lui, montre la m√™me √©volution mais cette fois-ci en distinguant les jeux ind√©pendants des jeux de studios g√©n√©ralement √† plus gros budget (AAA, AA, ..).

Nous avons voulu les s√©parer car c'est deux secteurs sont bien diff√©rents que ce soit leur mani√®re de d√©velopper, leur budget, leur objectifs, ... De plus, nous aovns pris cette d√©cision car dans de nombreux autres analyse dans ce rapport nous avons not√© des diff√©rences entre les deux.

```{r graph_indie_vs_studio_price_evolution}
# 1. Filtrer les jeux avec type de jeu connu (pas de NA)
ggplot(price_by_year_indie_and_studio, aes(x = release_year, y = mean_price, color = tag)) +
  geom_line(size = 1.2) +
  labs(
    title = "√âvolution du prix moyen des jeux Steam",
    subtitle = "Comparaison entre jeux 'Studio' et Ind√©pendants",
    x = "Ann√©e de sortie",
    y = "Prix moyen (‚Ç¨)",
    color = "Type de jeu"
  ) +
  theme_minimal() +
  steam_theme
```

### Observations

Globalement, on observe effectivement qu'il y a bien une tendance haussi√®re du prix des jeux vid√©os, en tout cas, sur le catalogue Steam.

N√©anmoins, √† travers le second graphique, on peut constater que la hausse des prix des jeux 'Studio' est bien plus grande que celle des jeux ind√©pendants. Cette tendance correspond toute √† fait aux observations que nous ferons plus tard dans le rapport.

Enfin, on peut tr√®s clairement distinguer une forte croissance pour les jeux 'Studio' aux alentours de 2012~2013. Nous n'avons malheuresement pas r√©ussi √† d√©terminer exactement la cause de cette croissance. Nous avons notamment pens√© √† la sortie d'une nouvelle g√©n√©ration de console avec la PS4 et la XBOX One sortie fin 2013, mais n√©anmoins, nous n'avons pas observ√© de diff√©rence de prix majeures entre les nouveaux jeux et ceux pr√©c√©dent (sur PS3 et XBOX 360).

## La disparit√© de genres de jeux vid√©o

Pour continuer, nous allons maintenant essayer de voir quel pourrait-√™tre les possibles liaisons entre les genres de jeux-vid√©o et leur prix. Il nous para√Æt en effet tout √† fait coh√©rent qu'un jeu 3D open-world type : GTA V, The Witcher III co√ªte plus ch√®re qu'un jeu comme un super mario 2D plateformer (m'enfin √ßa c'est mal conna√Ætre Nintendo hein üëÄ).

Nous allons donc voir √† travers cette section, quels sont les genres de jeux les plus et moins ch√®res. Essayer de comprendre pourquoi et analyser et comparer plus en d√©tails certains genres entre eux.

### Visualisation

Voici une treemap montrant les 50 genres de jeux vid√©os les plus fr√©quents de notre dataset avec le d√©grad√© de couleur indiquant le prix m√©dian par genre.

```{r treemap_genres}
ggplot(median_price_top_50, aes(area = median_price, label = tag, fill = median_price)) +
  geom_treemap() +
  geom_treemap_text(colour = "white", place = "centre", grow = FALSE, reflow = FALSE) +
  scale_fill_viridis_c() +
  labs(
    title = "Prix m√©dian des 50 genres (tags) les plus fr√©quents",
    fill = "Prix m√©dian (‚Ç¨)"
  ) +
  theme_minimal() +
  steam_theme
```

Nous parlerons du graphique treemap dans la partie observations.

Ce qui nous int√©resse ici c'est de mettre le focus sur un genre en particulier : la VR (r√©alit√© virtuelle). En effet, celle ci est tr√®s r√©cente dans le march√© du jeu vid√©o. Nous avons donc voulu savoir quel √©tait l'√©volution de cette cat√©gorie du jeu depuis sa d√©mocratisation.

Pour cela, nous avons fait un bar plot montrant le nombre de jeux VR sortie par ann√©e.

```{r vr_games_released}
vr_games_by_year <- merged_tags %>%
  filter(tag == "VR") %>%
  mutate(release_year = year(release_date)) %>%
  group_by(release_year) %>%
  summarise(nb_jeux = n(), .groups = "drop")

ggplot(vr_games_by_year, aes(x = release_year, y = nb_jeux)) +
  geom_col(fill = "#1A9FFF") +
  labs(title = "Nombre de jeux VR sortis par ann√©e",
       x = "Ann√©e de sortie",
       y = "Nombre de jeux") +
  theme_minimal() +
  steam_theme
```

Puis, nous avons √©galement fait un scalar plot pour suivre le prix des jeux VR m√©dians au fil des ann√©es.

```{r vr_games_price}
median_price_vr_by_year <- merged_tags %>%
  filter(tag == "VR") %>%
  mutate(release_year = year(release_date)) %>%
  group_by(release_year) %>%
  summarise(median_price = median(price, na.rm = TRUE), .groups = "drop")

ggplot(median_price_vr_by_year, aes(x = release_year, y = median_price)) +
  geom_point(color = "#9567F5", size = 2.5) +
  geom_line(color = "#1A9FFF", size = 1) +
  labs(title = "√âvolution du prix m√©dian des jeux VR par ann√©e",
       x = "Ann√©e de sortie",
       y = "Prix m√©dian") +
  theme_minimal() +
  steam_theme
```

### Observations

Concernant la partie des jeux VR, On observe ais√©ment une corr√©lation entre la chute des prix des jeux VR et leur d√©mocratisation dans le march√©. Cela nous parait parfaitement coh√©rent. Au fur et √† mesure que les technologies ont √©volu√©s, et qu'il est devenu plus facile √† la fois pour les d√©veloppeurs de cr√©er des jeux VR mais aussi l'accessibilit√© des joueurs (sortie en 2016 du premier Occulus Rift), le nombre de jeux a pu augmenter et leur prix diminu√©. Nous avons donc ici, selon nous, un exemple de facteur qui impacte grandement les prix des jeux : la difficult√© √† d√©velopper un type sp√©cifique et innovant de jeu vid√©o.

Et ce crit√®re semble ce poursuivre avec le premier graphique (la treemap), on observe par exemple que les jeux 3D co√ªtent plus hc√®res que les jeux 2D. De plus, le genre le plus ch√®res est le : JRPG. Cela nous para√Æt √©galement coh√©rent √©tant donn√©e l'√©tat du march√© des jeux vid√©os actuel. Aujourd'hui, les gros jeux (√† grosse production) poss√®dent tr√®s souvent ce tag.

A l'inverse, la treemap confirme √©galement la tendance qu'on a observ√© dans la partie √©volution du prix au fil du temps. On observe que les jeux Indie (jeux ind√©pendants) sont en g√©n√©ral bien moins ch√®res que les autres.

## Les langues disponibles sur les jeux vid√©os

Nous allons maintenant analyser est-ce que les langues disponibles pour un jeu peut avoir un impact sur son prix.

Nous avons choisi d'√©tudier cet aspect l√† car traduire un jeu dans une langue demande un travail suppl√©mentaire pour le studio de d√©veloppement qui doit soit embaucher des employ√©s pour chaque langue souhait√©e, soit faire appel √† des √©quipes de traductions externes √† l'entreprise.
De plus, cette traduction demande parfois des adaptations visuelles d'√©l√©ments graphiques directement dans le jeu, par exemple : si les langues sont extr√™mement diff√©rentes (langues asiatiques fonctionnant sur un syst√®me d'id√©ogrammes et langues occidentales se basant sur l'alphabet latin).

Ainsi, cela repr√©sente un co√ªt suppl√©mentaire √† ajouter au d√©veloppement et ceci pour chaque langue.
Voila pourquoi nous pensons nous int√©ressr √† ce sujet.

### Visualisation

Nous d√©cidons de partir sur un "scalar plot" avec comme axe horizontal le prix des jeux et comme axe vertical le nombre de langues disponibles :

```{r languages_graph}
ggplot(games_languages, aes(x = price, y = nb_languages)) +
  geom_point(color = "#1A9FFF", alpha = 0.5) +
  labs(title = "Corr√©lation entre le Prix des jeux et le nombre de Langues disponibles",
       x = "Prix (‚Ç¨)",
       y = "Nombre de Langues") +
  theme_minimal() +
  steam_theme
```

Comme vous pouvez le constater le graphique est tr√®s peu lisible √† cause de ses √©chelles, cela est d√ª aux points dits "outlier" : des points extr√™mes en prix ou nombre de langues relevant "d'anomalie" et ne repr√©sentant pas la masse des donn√©es.

Nous d√©cidons donc de les enlever pour r√©duire l'√©chelle et mieux pouvoir analyser le graphique.

```{r languages_graph_2}
games_languages <- games_languages %>% filter(nb_languages < 50) %>% filter(price <= 100)

ggplot(games_languages, aes(x = price, y = nb_languages)) +
  geom_point(color = "#1A9FFF", alpha = 0.5) +
  labs(title = "Corr√©lation entre le Prix des jeux et le Nombre de Langues disponibles",
       x = "Prix (‚Ç¨)",
       y = "Nombre de Langues") +
  theme_minimal() +
  steam_theme
```

### Observations

Comme nous pouvons l'observer, de nombreux jeux poss√©dant le m√™me nombre de langues se vendent √† des prix tr√®s diff√©rents et inversement de nombreux jeux aux m√™mes prix poss√®dent un nombre de langues tr√®s diff√©rents.
De plus, nous n'observons pas d'augmentation de prix de fa√ßon lin√©aire par rapport au nombre de langues disponibles.

**Il ne semble donc pas y avoir de corr√©lation entre le nombre de langues disponibles et le prix d'un jeu.**

Notre hypoth√®se concernant les moyens et co√ªts de traduction qui pourraient impacter le prix est donc fausse.
Cela nous parra√Æt coh√©rent √©tant donn√© qu'aujourd'hui le support multi-language est devenu une norme pour une grande partie des jeux.
Les studios aujourd'hui visent un march√© international et donc doivent rendre leurs jeux accessibles pour ces march√©s.

Pour revenir sur les points "outliers" du premier graphique, on peut observer que les points tout en haut √† gauche sont trop nombr√©s et regroup√©s pour √™tre qualifi√©s de simple outliers.
Apr√®s investigation dans les jeux de donn√©es, nous avons d√©couvert qu'il s'agit principalement de petit jeux √† puzlle o√π il n'y a aucun ou tr√®s peu de texte.
Par ailleurs, on peut observer une sorte de barri√®re auquel se rencontre les jeux un peu apr√®s 100 langues.
Cette barri√®re (103 pour √™tre pr√©cis) repr√©sente en r√©alit√© le nombre de langues que reconna√Æt Steam.
Ainsi, ces jeux indiquent qui valident toutes les langues car ils n'ont justement pas de traduction √† faire pour leur jeu.

```{r nb_languages_superior_to_100}
languages_100 <- games_languages %>% filter(nb_languages >= 100)
head(languages_100)
```

## Limites de l'analyse sur les prix

Concernant cette partie analyse de prix, nous avons identifi√© 2 principales limites qui peuvent nuire √† nos r√©sultats.

La premi√®re, la plus √©vidente, c'est que nos donn√©es contiennent uniquement les jeux sur Steam. Ainsi, sur un sujet comme le prix des jeux qui est tr√®s soumis au variation du march√© des jeux vid√©os, cela est dommage de ne pas avoir avoir plus de donn√©es. A cause de cela, de nombreux jeux n'aparraissent pas dans ce dataset mais participe tout autant √† ce march√© et donc impacte les prix.

L'autre limite concerne nos donn√©es, aujourd'hui en 2025 le prix du jeu n'est plus du tout le seul moyen pour les d√©veloppeurs de rentabiliser leurs jeux. Les micro-transactions avec les achats int√©gr√©s dans les jeux ou encore les DLC (extension d'un jeu payant) sont des strat√©gies aujourd'hui largement d√©ploy√©. Malheuresement, nos datasets ne disposent pas de ces donn√©es (impossible √† r√©cup√©rer depuis les interfaces ou outils de Steam).

### ------------------------------------------------------------------------

## Types de jeux en ligne sur Steam

### Diff√©rences entre Cat√©gorie et Tag

Sur Steam, il existe deux types de variables qui permettent de classer les jeux pr√©sents sur la plateforme :

-   **Cat√©gories** : classifications officielles attribu√©es par Steam.
    Elles d√©crivent les fonctionnalit√©s principales du jeu.
    Exemples : `Multijoueur`, `Succ√®s Steam`, `Support manette`, `Mode coop√©ratif`.

-   **Tags** : classifications collaboratives cr√©√©es par les utilisateurs.
    Ils d√©crivent le contenu, l‚Äôambiance ou le style du jeu.
    Exemples : `Puzzle`, `Narratif`, `Ind√©pendant`, `FPS`, `Monde ouvert`.

![Tags et Cat√©gories de Portal 2 sur Steam](img/portal_tag_categories.png){width="50%"}

### Contexte et probl√©matique

Steam est un acteur majeur dans le d√©veloppement du jeu en ligne avec des titres cultes comme Counter-Strike ou Team Fortress.
Au fil des ann√©es, d'autres genres comme les MMORPG, Battle Royale ou les jeux en coop√©ration ont gagn√© en popularit√©.
Nous voulons voir les tendances actuelles et quels types de jeux attirent principalement les joueurs de Steam.

Notre probl√©matique est alors la suivante :

> Quels sont les types de jeu en ligne les plus populaires sur Steam ?
> (FPS, MMO, etc...)

### D√©finition de jeu en ligne

Pour commencer notre analyse, il faut tout d'abord d√©finir le terme de **jeu en ligne**.

Une d√©finition de jeu en ligne sera un jeu vid√©o dont l'exp√©rience se repose sur l'int√©raction entre plusieurs joueurs en temps r√©el.

Typologies principales :

-   `MMO` (Massively Multiplayer Online)
-   `Jeux comp√©titifs` (FPS, MOBA, Battle Royale)
-   `Jeux collaboratifs` (ex : Euro Truck Simulator 2)

### Crit√®res d'identification "jeu en ligne" :

***Pour qu‚Äôun jeu soit consid√©r√© comme en ligne :***

Il doit contenir au moins un des √©l√©ments suivants dans ses cat√©gories ou tags :

-   `Multiplayer`, `Massively Multiplayer`, `Online Co-op`, etc.

***Pour mesurer la popularit√© :*** On utilise le nombre de joueurs actifs en octobre 2024 (`concurrent_users_yesterday` dans les donn√©es).

### Types de jeux en ligne

Pour analyser les type de jeux les plus populaires pour les jeux en ligne et regarder sa distribution dans le magasin Steam, on a retenu les tags suivants uniquement :

-   FPS Multijoueur
-   Battle Royale
-   RPG en ligne
-   Coop√©ration en ligne
-   Sandbox
-   Survival Multiplayer
-   Autres (correspondant aux autres tags non class√©s)

```{r get_infos_online_games, include=FALSE}
# D√©tecter les jeux multijoueurs
jeux_en_ligne <- steamData %>%
  filter(
    (
      str_detect(str_to_lower(categories), "multiplayer|massively multiplayer|online co-op") |
      str_detect(str_to_lower(tags), "multiplayer|mmo|online co-op|pvp|battle royale")
    )
  )

# Classer les jeux en type g√©n√©ral selon leur tags
jeux_en_ligne_type <- jeux_en_ligne %>%
  mutate(
    type_de_jeu = case_when(
      str_detect(str_to_lower(tags), "battle royale") ~ "Battle Royale",
      str_detect(str_to_lower(tags), "moba") ~ "MOBA",
      str_detect(str_to_lower(tags), "mmorpg|rpg") ~ "RPG en ligne",
      str_detect(str_to_lower(tags), "survival") ~ "Survival Multijoueur",
      str_detect(str_to_lower(tags), "fps") & str_detect(str_to_lower(tags), "shooter") ~ "FPS Multijoueur",
      TRUE ~ "Autres"
    )
  )

# Grouper par type de jeu et compter les joueurs + le nombre de jeux
popularite_types <- jeux_en_ligne_type %>%
  group_by(type_de_jeu) %>%
  summarise(
    total_joueurs_actifs = sum(concurrent_users_yesterday, na.rm = TRUE),
    nombre_de_jeux = n(),
    .groups = 'drop'
  ) %>%
  arrange(desc(total_joueurs_actifs))

```

### Analyse des r√©sultats

Voici la r√©partition des joueurs sur la plateforme Steam sur les jeux en lignes :

```{r barchart, fig.align='center'}
ggplot(popularite_types, aes(x = reorder(type_de_jeu, total_joueurs_actifs), y = total_joueurs_actifs, fill = type_de_jeu)) +
  geom_col(show.legend = FALSE) +
  coord_flip() +
  steam_theme +
  scale_fill_manual(values = primary_palette) +
  geom_text(aes(label = format(total_joueurs_actifs, big.mark = " ")),
            position = position_stack(vjust = 0.5),
            hjust = 0.5, color = "white") +
  labs(title = "Total des joueurs actifs par type de jeu",
       x = element_blank(),
       y = "Nombre de joueurs actifs (Octobre 2024)") +
  theme (
    axis.text.x = element_text(size = 10),
    axis.text.y = element_text(size = 10)
  )
```

### Observations

-   Les jeux **FPS Multijoueur** est de loin le genre dominant avec 1,5 million de joueurs actifs, dont 1,1 million sur Counter-Strike 2 √† lui seul.
-   **Autres genres** comptent 1,3 million de joueurs avec des jeux vari√©s comme War Thunder, Euro Truck 2, Civilization VI, etc. Cette cat√©gorie montre la diversit√© des jeux en ligne.
-   Les **Battle Royale** regroupe 1 million de joueurs (\~16,5 %). Bien qu‚Äôen d√©clin par rapport √† 2018-2020, ce genre reste populaire.
-   Les **RPG en ligne** regroupent environ 1,2 million de joueurs. On y trouve :
    -   Des MMORPG (Destiny 2, New World, etc.)
    -   Des RPG coop√©ratifs (Baldur‚Äôs Gate 3, Stardew Valley)
-   Les **Survival Multijoueur** comptent 800 000 joueurs sur des titres comme Rust, Satisfactory, Factorio.
-   Les **MOBA** n'ont seulement 550 000 joueurs, dont la grande majorit√© provient de Dota 2.

### Les RPG en d√©tails

Nous allons approfondir notre analyse dans le type **RPG** en essayant de s√©parer et de voir la r√©partition des RPG en ligne et des MMORPG.

Voici la r√©partition des joueurs jouant √† des MMORPG et des joueurs de RPG classique :

```{r mmo_vs_classicRPG, fig.align='center'}
# Filtrer les jeux RPG en ligne et ajouter une colonne is_MMO
mmo_vs_classicRPG <- jeux_en_ligne_type %>%
  filter(type_de_jeu == "RPG en ligne") %>%
  mutate(is_MMO = case_when(
    str_detect(str_to_lower(tags), "mmorpg") ~ TRUE,  # Si le tag "mmorpg" est pr√©sent
    TRUE ~ FALSE
  ))

# Calculer le total de jeux RPG en ligne
total_jeux_rpg <- nrow(mmo_vs_classicRPG)

# Regrouper les donn√©es pour calculer les proportions globales
proportions_globales <- mmo_vs_classicRPG %>%
  group_by(is_MMO) %>%
  summarise(proportion = n()/total_jeux_rpg)

# Cr√©er le graphique avec les pourcentages sur les barres
ggplot(proportions_globales, aes(x = "", y = proportion, fill = is_MMO)) +
  geom_bar(stat = "identity", width = 0.8) +
  scale_fill_manual(
    values = primary_palette,
    name = "Type de jeu", 
    labels = c("RPG en ligne (non MMO)", "MMORPG")  
  ) +
  geom_text(
    aes(label = scales::percent(proportion, accuracy = 0.1)), 
    position = position_stack(vjust = 0.5),
    color = "white"
  ) +
  labs(
    title = "Proportion des joueurs joaunt aux MMORPG aux RPG en ligne (non MMO)",
    x = "", 
    y = "Proportion (%)"
  ) +
  steam_theme +
  theme(
    axis.text.x = element_blank(),
    axis.title.x = element_blank()
  )
```

Note :

-   Stardew Valley a le tag RPG et est un jeu qui peut se jouer en multijoueur mais peut-on consid√©rer comme un jeu en ligne ? C'est le cas d'autres jeux principalement singleplayer mais qui peut se jouer en multijoueur.

### Limites de r√©sultats obtenus

-   Les **tags Steam** et les **cat√©gories** cr√©√©es ne sont **pas assez pr√©cises** pour trouver les jeux en ligne car on se retrouve souvent √† la fronti√®re d'un jeu avec un syst√®me multijoueur et un jeu en ligne.

-   D'autres visualisations au sein des cat√©gories nous permettraient de voir qu'uniquement quelques jeux portent la base de jeu de certains types de jeux comme CS 2 pour les FPS et Dota 2 pour les MOBA.

-   Le fait que la cat√©gorie **"Autres"** poss√®dent de nombreux jeux en ligne que l'on a pas pu classer montre que le domaine des jeux en ligne est tr√®s vari√©e et non cantonn√©e aux genres que l'on pense habituellement.
    Globalement, r√©aliser une classification sur l'ensemble des jeux Steam semble difficile tant certains jeux sont assez particulier pour les cat√©goriser.

-   Enfin, il faut √™tre conscient que ces donn√©es ne concernent que les utilisateurs Steam et non la globalit√© des joueurs.
    Par exemple, pour les MMORPG, ceux-ci peuvent √™tre lanc√©s hors Steam.
    De plus avec l'av√®nement de l'Epic Game Store, une partie des jeux sont pass√©s sur l'autre plateforme comme Rocket League.

## Les jeux les plus populaires

Dans cette partie, nous allons observer les jeux avec le plus de joueurs jouant en m√™me temps.
Voici les donn√©es pour le dataset que l'on a qui indique le nombre de joueurs en Octobre 2024 :

```{r popular_game_chart}
jeux_populaires <- steamData %>%
  # Enlever Wallpaper Engine car ce n'est pas un jeu...
  filter(name != 'Wallpaper Engine') %>%
  # S√©lectionner les 10 premiers jeux
  arrange(desc(concurrent_users_yesterday)) %>%
  slice_head(n = 10)

ggplot(jeux_populaires, aes(x = reorder(name, concurrent_users_yesterday), y = concurrent_users_yesterday)) +
  geom_col(fill = primary_color , show.legend = FALSE) +
  coord_flip() +
  steam_theme +
  theme(
  plot.margin = unit(c(0.5, 2.5, 0.5, 0.5), "cm")  # top, right, bottom, left
  ) +
  # Labels √† l'int√©rieur des barres pour les grandes valeurs (>= 100)
  geom_text(
    data = jeux_populaires %>% filter(concurrent_users_yesterday >= 150000),
    aes(x = name, label = label_number(big.mark = " ")(concurrent_users_yesterday)),
    hjust = 1.2, color = "white", size = 3.5
  ) +
  # Labels √† l'ext√©rieur √† droite pour les petites valeurs (< 100)
  geom_text(
    data = jeux_populaires %>% filter(concurrent_users_yesterday < 150000),
    aes(x = name, label = label_number(big.mark = " ")(concurrent_users_yesterday)),
    hjust = -0.2, color = "white", size = 3.5
  ) +
  
  labs(title = "Les jeux les plus populaires de Steam (Oct. 24)",
       x = element_blank(),
       y = "Nombre de joueurs actifs en simultan√©")

```

Pour les donn√©es plus r√©centes, nous avons r√©colt√© le nombre de joueurs actif sur le site [SteamDB](https://steamdb.info/charts/).
Voici le m√™me graphique pour Juin 2025 :

```{r popular_game_june_2025_chart}
jeux_populaires_2025 <- read.csv("data/popular_games_june_2025.csv", sep = ";") %>%
    # S√©lectionner les 10 premiers jeux
  arrange(desc(concurrent_users_yesterday)) %>%
  slice_head(n = 10)

ggplot(jeux_populaires_2025, aes(x = reorder(name, concurrent_users_yesterday), y = concurrent_users_yesterday)) +
  geom_col(fill = primary_color , show.legend = FALSE) +
  coord_flip() +
  steam_theme +
  theme(
  plot.margin = unit(c(0.5, 2.5, 0.5, 0.5), "cm")  # top, right, bottom, left
  ) +
  # Labels √† l'int√©rieur des barres pour les grandes valeurs (>= 100)
  geom_text(
    data = jeux_populaires_2025 %>% filter(concurrent_users_yesterday >= 220000),
    aes(x = name, label = label_number(big.mark = " ")(concurrent_users_yesterday)),
    hjust = 1.2, color = "white", size = 3.5
  ) +
  # Labels √† l'ext√©rieur √† droite pour les petites valeurs (< 100)
  geom_text(
    data = jeux_populaires_2025 %>% filter(concurrent_users_yesterday < 220000),
    aes(x = name, label = label_number(big.mark = " ")(concurrent_users_yesterday)),
    hjust = -0.2, color = "white", size = 3.5
  ) +
  
  labs(title = "Les jeux les plus populaires de Steam (Jun. 25)",
       x = element_blank(),
       y = "Nombre de joueurs actifs en simultan√©")
```

### Observations :

-   Il existe 3 jeux principaux qui regroupe la majorit√© des utilisateurs Steam : **Counter-Strike 2**, **PUBG** et **Dota 2** avec plus de 500k joueurs.
-   On peut remarquer une augmentation significative de la base de joueurs de ces 3 jeux entre octobre 2024 et juin 2025, notamment Counter-Strike 2 qui compte 400k joueurs suppl√©mentaire d'apr√®s nos donn√©es mais il est de 200k en r√©alit√© ([SteamDB - Page CS2](https://steamdb.info/app/730/charts/#1y))
-   Certains jeux comme **Black Myth: Wukong** ou **Liar's Bar** ont √©t√© sorti en octobre 2024, ce qui peut expliquer leur pr√©sence dans les jeux les plus populaires de Steam et leur absence dans le second graphique. La m√™me remarque est √† r√©aliser pour les nouveaux jeux sortis en juin 2025 comme **Stellar Blade**, **Dune: Awakening** ou **ELDEN RING NIGHTREIGN** qui viennent juste de sortir
-   La pr√©sence de `Free-to-play` peut aussi expliquer la pr√©sence de **Bongo Cat** et de **Delta Force** dans le graphique de juin 2025. On note 5 jeux FTP dans le classement de 2025.
-   En juin 2025, bien qu'ils ne fassent pas parti des 10 jeux les plus populaires, **NARAKA: BLADEPOINT** (12√®me) et **Stardew Valley** (19√®me) poss√®dent une base de joueurs assez fid√®le. **Rust**, quant √† lui, reste dans le classement √† la 10√®me place.
-   Pour **Stardew Valley**, on peut supposer que sa promotion (-50%) en octobre lui a permis de rentrer dans le classement des jeux les plus populaires.
-   Pour **Factorio**, la raison de sa pr√©sence en octobre est d√ª √† la sortie de son contenu additionnel `Factorio: Space Age` sortie en octobre 2024
-   Pour **Liar's Bar**, le jeu a √©t√© assez populaire en raison de nombreux streamers/youtubers qui ont r√©alis√© du contenu sur le jeu.

### Conclusion

On peut observer plusieurs caract√©ristiques communes des jeux les plus populaires sur Steam : - Les jeux sont `Free-to-play` - Les sorties r√©centes de jeux ou de contenus additionnels - Les soldes du jeu - Le jeu devienne le contenu tendance des cr√©ateurs de contenu (streamers/youtubers)

Le classement des jeux les populaires est assez versatile mais le top 3 reste identique avec leurs grosses bases de joueurs.

------------------------------------------------------------------------

## Analyse des notes des jeux AAA et indies

### Introduction

L'industrie du jeu vid√©o traverse une p√©riode compliqu√©e depuis plusieurs ann√©es.
Les plus grosses entreprises du milieu encha√Ænent les pol√©miques : entre licencements intensifs, management toxique et jeux tr√®s moyens aux yeux de la critique dont les prix ne cessent d'augmenter, le milieu ne cesse d'√©voluer.

**Quelle est la diff√©rence entre un jeu studio et un jeu ind√©pendant ?**

Un jeu studio est un jeu vid√©o d√©velopp√© par une entreprise.
On peut attribuer ce terme pour classifier les jeux vid√©os dot√©s d'un certain budget de d√©veloppement et de promotion, avec de grandes √©quipes d'employ√©s.
On peut donc s'attendre √† des productions de qualit√©, avec des jeux vid√©os AA voire m√™me AAA selon la quantit√© de ressources utilis√©e pour le d√©veloppement du projet.

Cependant, ces productions font face √† plusieurs critiques r√©currentes telles que le manque d'innovation, une uniformisation des contenus, ou encore des pratiques commerciales controvers√©es (microtransactions, loot boxes, DLC abusifs).

√Ä l'oppos√©, les jeux ind√©pendants sont souvent d√©velopp√©s par des √©quipes r√©duites ou par des d√©veloppeurs individuels disposant de moyens financiers et techniques limit√©s.
Ce contexte leur permet g√©n√©ralement une plus grande libert√© cr√©ative, donnant naissance √† des jeux originaux, audacieux et parfois innovants.

### Probl√©matique

Face √† ce contexte qui oppose budget et innovation, une question se soul√®ve quant √† la qualit√© des jeux aupr√®s du grand public :

> Les jeux ind√©pendants obtiennent ils de meilleures √©valuations que les jeux fait par des studios ?

### Chargement et pr√©paration des donn√©es

Afin de r√©aliser l'analyse, on va utiliser les fichiers [raw_reviews.csv](https://github.com/IF36-visualisation/projet-if36-p25-avatar-le-maitre-du-r/blob/master/data/raw_reviews.csv) et [tags.csv](https://github.com/IF36-visualisation/projet-if36-p25-avatar-le-maitre-du-r/blob/master/data/tags.csv) qui seront suffisants.
Les deux fichiers sont reli√©s par `app_id`, tags.csv va nous permettre de s√©parer les jeux par le groupe des jeux ind√©pendants et celui des jeux studios, et raw_reviews.csv va nous permettre d'obtenir les notes attribu√©es pour chaque jeu.
Dans un second temps, nous utiliseront la variable steamData qui regroupe l'ensemble des donn√©es pour faire des analyses plus pr√©cises.

### Pr√©paration des jeux

Steam poss√®de un tag sp√©cialement pour les jeux ind√©pendants, qui se nomme "Indie".
Ce n'est pas le cas pour les jeux de studios.
Cependant, on peut facilement les obtenir en r√©cup√©rant l'ensemble des jeux, puis en enlevant les jeux ind√©pendants.

```{r Trie des jeux ind√©pendants et des jeux studios}
indie_games <- tags %>%
  mutate(app_id = as.character(app_id)) %>%
  filter(tag == "Indie") %>%
  distinct(app_id) %>%
  mutate(type_game = "Ind√©pendant")

studio_games <- tags %>%
  mutate(app_id = as.character(app_id)) %>%
  anti_join(indie_games, by = "app_id") %>%
  distinct(app_id) %>%
  mutate(type_game = "Studio")

nrow(indie_games)
nrow(studio_games)

types_games <- bind_rows(indie_games, studio_games)
```

Par la suite, on peut tout mettre dans un nouveau dataset nomm√© `types_games` qui recense l'ensemble des jeux avec leur cat√©gorie propre.

### Pr√©paration des √©valuations

Pour les √©valuations, on va cr√©er un nouveau dataset avec seulement les informations dont nous avons besoin, c'est √† dire `app_id` et `review_score_description`.
On va ensuite filtrer `review_score_description` afin d'obtenir seulement les jeux qui ont une √©valuation.
La colonne peut avoir d'autres valeurs, comme "None", "1 user reviews" etc...
car Steam attribue une √©valuation √† un jeu seulement √† partir d'un certain nombre d'√©valuations de la part de la communaut√©.

```{r R√©cup√©ration des √©valuations}
evaluations <- reviews %>%
  filter(review_score_description %in% c(
    "Very Negative", "Mostly Negative", "Mixed",
    "Mostly Positive", "Very Positive", "Overwhelmingly Positive"
  )) %>%
  select(app_id, review_score_description) %>%
  inner_join(types_games, by = "app_id")
```

### Visualisations

Enfin, pour la visualisation de nos donn√©es, je me suis orient√© sur un diagramme √† barres.
L'objectif est de comparer directement les types de jeu selon le niveau d'√©valuation.

```{r Premi√®re visualisation}
evaluations %>%
  mutate(review_score_description = factor(review_score_description, levels = c("Very Negative", "Mostly Negative", "Mixed", "Mostly Positive", "Very Positive", "Overwhelmingly Positive"))) %>%
  count(review_score_description, type_game) %>%
  ggplot(aes(x = review_score_description, y = n, fill = type_game)) +
  geom_bar(stat = "identity", position = "dodge") +
  scale_fill_manual(values = c("Ind√©pendant" = "#66C0F4", "Studio" = "#9567F5")) +
  labs(
    title = "R√©partition du nombre de jeux par √©valuation et par type",
    x = "Niveau d'√©valuation",
    y = "Nombre de jeux",
    fill = "Type de jeu"
  ) +
  theme_minimal() +
  steam_theme +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

Le probl√®me est que ce n'est pas √©gal de faire la comparaison actuellement.
Comme on peut le voir plus au dessus gr√¢ce √† la fonction nrow, `studio_games` poss√®de 54 252 jeux, tandis que `indie_games` en poss√®de 63 253.
On va donc faire une moyenne globale pour √™tre au m√™me niveau.

La fonction "geom_bar" nous permet de d√©finir l'option "position = dodge" afin d'avoir les barres c√¥te √† c√¥te pour une meilleure lisibilit√©.

```{r Seconde visualisation}
evaluations %>%
  mutate(review_score_description = factor(review_score_description, levels = c("Very Negative", "Mostly Negative", "Mixed", "Mostly Positive", "Very Positive", "Overwhelmingly Positive"))) %>%
  count(review_score_description, type_game) %>%
  group_by(type_game) %>%
  mutate(percentage = n / sum(n) * 100) %>%
  ggplot(aes(x = review_score_description, y = percentage, fill = type_game)) +
  geom_bar(stat = "identity", position = "dodge") +
  geom_text(aes(label = sprintf("%.1f%%", percentage)), 
          position = position_dodge(width = 1), 
          vjust = -0.25,
          color = font_color,
          size = 3) +
  scale_fill_manual(values = c("Ind√©pendant" = "#66C0F4", "Studio" = "#9567F5")) +
  labs(
    title = "R√©partition proportionnelle des √©valuations par type de jeu",
    x = "Niveau d'√©valuation",
    y = "Pourcentage de jeux",
    fill = "Type de jeu"
  ) +
  theme_minimal() +
  steam_theme +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

### Observations

L'analyse du graphique montre que, proportionnellement, les jeux issus de studios obtiennent l√©g√®rement plus d'√©valuations "Very Positive" que les jeux ind√©pendants.
Toutefois, les diff√©rences restent relativement faibles, et la majorit√© des jeux ind√©pendants re√ßoivent √©galement des √©valuations globalement positives.
Les jeux ind√©pendants affichent une proportion un peu plus √©lev√©e d'√©valuations "Mixed", ce qui pourrait refl√©ter une plus grande diversit√© de qualit√© au sein de cette cat√©gorie.
Cela am√®ne √† nuancer l'hypoth√®se initiale : si les jeux ind√©pendants re√ßoivent de nombreuses bonnes √©valuations, les jeux de studios conservent tout de m√™me une l√©g√®re avance en termes de perception positive moyenne sur Steam.

Cette hypoth√®se d√©coule du fait qu'aujourd‚Äôhui, les joueurs se focalisent sur une petite partie du monde vid√©oludique.
De nouveaux jeux sortent chaque jour ; certains sont excellents, mais ils ne b√©n√©ficieront pas forc√©ment de la m√™me visibilit√© que les jeux colossaux d√©velopp√©s par les grandes entreprises, comme Microsoft, Ubisoft, Activision Blizzard, Rockstar, etc.

### Focus sur diff√©rents studios de jeux

Nous allons maintenant comparer diff√©rents studios, avec d‚Äôun c√¥t√© des studios produisant des jeux AAA, et de l‚Äôautre, des studios ind√©pendants.
Nous nous appuierons sur six studios aux profils vari√©s :

-   **Ubisoft** : studio fran√ßais mythique et reconnu, √† l‚Äôorigine de nombreuses productions AAA telles que Assassin‚Äôs Creed et Far Cry.
-   **Supergiant Games** : studio ind√©pendant qui a marqu√© les esprits avec le jeu Hades.
-   **FromSoftware Inc.** : studio AAA √©voluant dans un registre diff√©rent d‚ÄôUbisoft, notamment connu pour la s√©rie Dark Souls.
-   **Scott Cawthon**: d√©veloppeur ind√©pendant ayant cr√©√© √† lui seul l‚Äôun des plus grands univers du jeu d‚Äôhorreur : Five Nights at Freddy‚Äô.
-   **Treyarch**: branche embl√©matique d‚ÄôActivision, responsable d‚Äôune partie du d√©veloppement des jeux Call of Duty, notamment la s√©rie Black Ops.
-   **Moon Studios**: studio ind√©pendant qui a √©bloui le monde du jeu vid√©o avec le style artistique de la s√©rie Ori.

Maintenant que nous avons r√©uni des studios issus de tous les horizons, nous allons observer les √©valuations obtenues pour plusieurs de leurs jeux et les comparer.
L‚Äôobjectif est d‚Äôexplorer davantage la question de la notation et la potentielle influence du tag "Indie".

```{r Focus sur 6 studios diff√©rents}
ubisoft_games <- steamData %>%
  filter(str_detect(developer, "Ubisoft")) %>%
  filter(type == "game") %>%
  select(proportion_avis_positif, metacritic_score, name, release_date, owners_range, total) %>%
  mutate(studio = "Ubisoft")

supergiant_games <- steamData %>%
  filter(str_detect(developer, "Supergiant Games")) %>%
  filter(type == "game") %>%
  select(proportion_avis_positif, metacritic_score, name, release_date, owners_range, total) %>%
  mutate(studio = "Supergiant Games")

fromsoftware_games <- steamData %>%
  filter(str_detect(developer, "FromSoftware")) %>%
  filter(type == "game") %>%
  select(proportion_avis_positif, metacritic_score, name, release_date, owners_range, total) %>%
  mutate(studio = "FromSoftware")

scottcawthon_games <- steamData %>%
  filter(str_detect(developer, "Scott Cawthon")) %>%
  filter(type == "game") %>%
  select(proportion_avis_positif, metacritic_score, name, release_date, owners_range, total) %>%
  mutate(studio = "Scott Cawthon")

treyarch_games <- steamData %>%
  filter(str_detect(developer, "Treyarch")) %>%
  filter(type == "game") %>%
  select(proportion_avis_positif, metacritic_score, name, release_date, owners_range, total) %>%
  mutate(studio = "Treyarch")

moonstudios_games <- steamData %>%
  filter(str_detect(developer, "Moon Studios GmbH")) %>%
  filter(type == "game") %>%
  select(proportion_avis_positif, metacritic_score, name, release_date, owners_range, total) %>%
  mutate(studio = "Moon Studios")

all_games_studios <- bind_rows(
  ubisoft_games,
  supergiant_games,
  fromsoftware_games,
  scottcawthon_games,
  treyarch_games,
  moonstudios_games
)
  
avg_per_studio <- all_games_studios %>%
  filter(!is.na(proportion_avis_positif)) %>%
  mutate(proportion_avis_positif = proportion_avis_positif * 100) %>%
  group_by(studio) %>%
  summarise(
    avg_positive_reviews = mean(proportion_avis_positif, na.rm = TRUE),
    number_of_games = n()
  ) %>%
  arrange(desc(avg_positive_reviews))

ggplot(avg_per_studio, aes(x = reorder(studio, avg_positive_reviews), y = avg_positive_reviews, fill = studio)) +
  geom_col() +
  geom_text(aes(label = paste0(sprintf("%.1f%%", avg_positive_reviews), "\n(", number_of_games, " jeux)")),
            vjust = 2.5,
            size = 4) +
  labs(
    title = "Note moyenne des avis positifs par studio \navec le nombre de jeux",
    x = "Studio",
    y = "Proportion moyenne d'avis positifs",
    fill = "studio"
  ) +
  scale_y_continuous(labels = function(x) paste0(x, "%"), limits = c(0, 100)) +
  theme_minimal() +
  steam_theme +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

### Observations

Suite √† cette visualisation, on peut constater que les trois studios ind√©pendants sont ceux qui obtiennent proportionnellement le plus de notes positives.
Ils sont suivis de pr√®s par FromSoftware.
L'objectif ici est uniquement de constater les avis des joueurs par rapport aux jeux produits.
Les chiffres ne sont pas √©quivalents, mais, par exemple, Hades, un grand jeu ind√©pendant produit par Supergiant Games, a re√ßu 258 000 √©valuations, un chiffre qu‚Äôaucun jeu AAA produit par les grands studios de la liste n‚Äôa atteint.

### Conclusion

Pour conclure, non, les jeux ind√©pendants n‚Äôobtiennent pas n√©cessairement de meilleures notes que ceux produits par les gros studios.
On peut toutefois constater qu‚Äôune forme de m√©ritocratie s‚Äôest install√©e dans l‚Äôesprit des joueurs : ils font beaucoup de bruit pour des jeux ind√©pendants excellents, et de m√™me pour d√©noncer des jeux √† gros budget jug√©s m√©diocres.
Il n‚Äôest pas normal qu‚Äôavec des moyens colossaux, certaines entreprises livrent des produits inachev√©s, sans √¢me, au point d‚Äôen oublier le concept m√™me du jeu vid√©o : l‚Äôamusement.

------------------------------------------------------------------------

## Tendance des jeux sortis r√©cemments (Jules PERRIN)
# Contexte g√©n√©ral
Steam est une plateforme qui propose l'un des plus gros catalogue de jeux vid√©o du march√©. Chaque jeu propos√© a plusieurs caract√©ristiques (nom, prix, √©diteur , etc). Parmi ces caract√©ristiques, l'une d'entre elle nous int√©resse particuli√®rement dans ce rapport. En effet les tags permettent aux joueurs de se faire une id√©e rapide des jeux propos√©s ou encore de rechercher de nouveaux jeux selon leur pr√©f√©rences.

Le jeu de donn√©es que nous allons utiliser ne comporte pas de donn√©es permettant de dresser une temporalit√©. Ce rapport portera donc sur les donn√©es du catalogue Steam en octobre 2024.

Les cat√©gories ne doivent pas √™tre confondues avec les tags. Ici les cat√©gories repr√©sentent comment l'on joue au jeu (multiplayer, online pvp, remote play on phone etc). Alors que les tags repr√©sentent √† quoi l'on joue (survival, tactical, FPS, old school, etc). 

# Probl√©matique

Ce rapport traitera une question pour le moment: 

 - Quelle est la tendance des jeux sortis r√©cemment ?
 
Cela nous permettra d'avoir une id√©e globale de la dispersion des joueurs dans les cat√©gories majeurs sur steam pour les nouveaux jeux. Pourrait √™tre utile √† un studio pour orienter son futur jeux vid√©o par example. 
 
# Analyse
## Import des donn√©es

Premi√®rement il faut importer les donn√©es n√©cessaires √† cette analyse.
Ainsi que charger les librairies requises pour travailler et visualiser les donn√©es
Les donn√©es des fichiers tags, steamspy et games sont n√©c√©ssaires

```{r importe, message=FALSE, warning=FALSE}
library(tidyr)
library(scales)
library(lubridate)
library(ggplot2)
library(tidyverse)

steamspy <- read_csv("data/steamspy.csv")
tags <- read_csv("data/tags.csv")
games <- read_delim("data/clean_games.csv", delim=";", show_col_types = FALSE)
```

### Pr√©cision et d√©finition

Ici on cherche √† repr√©senter la tendance actuelle. On utilisera donc la population steam pr√©sente le jour de la construction du dataset (bien que pas objectivement repr√©sentatif cf. interpr√©tation). On cherche √©galement √† se concentrer sur les jeux r√©cents. On utilisera donc tous les jeux sortis en 2024

```{r}
games_2024 <- games %>%
  mutate(release_date = ymd(release_date)) %>%
  filter(year(release_date) == 2024) %>%
  select(app_id)

tag_players <- tags %>% 
  semi_join(games_2024, by = "app_id") %>%
  left_join(steamspy %>% 
              select(app_id, concurrent_users_yesterday),
            by = "app_id") %>%
  group_by(tag) %>% 
  summarise(total_ccu = sum(concurrent_users_yesterday, na.rm = TRUE), .groups = "drop") %>%
  arrange(desc(total_ccu)) %>% 
  slice_head(n = 10)

tag_players %>%
  mutate(total_ccu = formatC(total_ccu, format = "d", big.mark = " ")) %>% 
  knitr::kable(
    col.names = c("Tags", "Joueur connect√©s"), 
    caption = "Top 10 des tags pour les jeux de 2024",
    align = c("l", "r")
  )
```

Voila donc un aper√ßu des tags les plus populaires selon le contexte √©tabli
## meilleur tags

### Visualisation

```{r}
ggplot(tag_players, 
       aes(x = reorder(tag, total_ccu), 
           y = total_ccu)) +
         geom_col(fill = "steelblue") +
         coord_flip() + 
         scale_y_continuous(labels = comma) + 
         geom_text(aes(label = comma(total_ccu)),
                   hjust = -0.1, size = 3) + 
         labs(title = "Meilleur tag de l'ann√©e", 
              x = NULL,
              y = "joueur connect√© a la cr√©ation du dataset") + 
         theme_minimal()
```

### Interpr√©tation

On peut observer des tags assez g√©n√©riques n√©anmoins on peut s'interroger sur la pr√©sence d'early access. Est ce que cette position dans les tags r√©sulte de la curiosit√© des joueurs pour les jeux "non sortis" en g√©n√©ral. Ou bien est-ce qu'un triple A √©tait tr√®s attendu et est sorti en early acces en 2024.

On peut √©galement observer que les jeux multi et single player se valent mais cette interpr√©tation est √† nuancer car les jeux peuvent avoir les 2 tags de par la pr√©sence d'une campagne ou d'un mode histoire.

Les jeux en Coop sont significativement au del√† des jeux coop online. Cela pourrait se traduire par l'envie des joueurs de jouer uniquement avec leurs amis ou au moins de ne pas jouer avec des gens al√©atoire qui pourraientt avoir un √©cart de niveau important ou juste vouloir "troller". au demeurant, les jeux coop n'ont pas forcement de mode en ligne


## meilleur cat√©gories
Dans cette partie on se concentrera uniquement sur les cat√©gories de jeux. Mais √©galement sur tout l'historique des nombre de possesseurs contrairement au graphique pr√©c√©dent ou l'on √©voquait les joueurs connect√©s.Les donn√©es utilis√© portent sur les jeux de toutes les ann√©es de notre datasets

### Visualisation

```{r}
#cat√© les plus populaires sur steam
# N√©cessite les packages suivants :
library(dplyr)
library(tidyr)
library(stringr)
library(ggplot2)



library(scales)
# Jointure des cat√©gories et donn√©es de popularit√©
cat_pop <- left_join(steamspy, categories, by = "app_id")

# Calcul de la borne minimale d'owners pour chaque cat√©gorie
cat_pop_long <- cat_pop %>%
  filter(!is.na(categories) & !is.na(owners_range)) %>%
  separate_rows(categories, sep = ",") %>%
  mutate(
    owner_min = as.numeric(str_replace_all(str_extract(owners_range, "^[0-9,]+"), ",", ""))
  ) %>%
  group_by(categories) %>%
  summarise(
    total_owner_min = sum(owner_min, na.rm = TRUE),
    n = n()
  ) %>%
  arrange(desc(total_owner_min))

# S√©lection des 50 cat√©gories les plus populaires
top50_cat <- cat_pop_long %>% slice_max(total_owner_min, n = 20)

# Affichage du graphique avec cat√©gories en abscisse
ggplot(top50_cat, aes(x = reorder(categories, total_owner_min), y = total_owner_min)) +
  geom_col(width = 0.3, fill = "blue") +
  labs(
    title = "Top 50 des cat√©gories Steam par nombre minimal de possesseurs",
    x = "Cat√©gorie",
    y = "Somme des bornes minimales de possesseurs"
  ) +
  scale_y_continuous(labels = comma) +  # <--- C'est cette ligne qui enl√®ve les exposants
  theme_minimal(base_size = 10) +
  theme(
    axis.text.x = element_text(angle = 75, hjust = 1, size = 7),
    plot.title = element_text(size = 13, face = "bold"),
    axis.title.x = element_text(size = 10),
    axis.title.y = element_text(size = 10)
  )


```

### Interpr√©tation
On peut voir que premierement que les cat√©gories les plus pr√©sente sont tr√®s g√©n√©rique. Cela peut s'expliquer du fait qu'elle sont pr√©sente sur √©norm√©ment de jeux qu'elle que soit leurs autre cat√©gories. Typiquement on ne vois pas de cat√©gories sp√©cifique comme "farm" ou "war" par exemple. 


##Evolution des tags
Dans cette partie on reviendra sur les tags les plus pr√©sents en fonction des ann√©es de sortie. Pour cela on prend les 10 tags les plus utilis√© globalement et on regade leurs √©volution.

### Visualisation
Le premier graphique repr√©sente toute la p√©riode du dataset. Les deux suivant son des focus sur les p√©riode avant et apr√®s 2013

```{r}

library(dplyr)
library(tidyr)
library(ggplot2)
library(lubridate)

# Pr√©paration des donn√©es de base
games_tags <- left_join(tags, clean_games %>% select(app_id, release_date), by = "app_id") %>%
  filter(!is.na(tag), !is.na(release_date)) %>%
  mutate(year = year(ymd(release_date)))

## 1. Global : tous les jeux (top 10 tags)
genre_year_all <- games_tags %>%
  group_by(year, tag) %>%
  summarise(n = n(), .groups = "drop")
top_tags_all <- genre_year_all %>%
  group_by(tag) %>%
  summarise(total = sum(n)) %>%
  arrange(desc(total)) %>%
  slice_head(n = 10) %>%
  pull(tag)
genre_year_all_top <- genre_year_all %>% filter(tag %in% top_tags_all)

# Graphique global
ggplot(genre_year_all_top, aes(x = year, y = n, color = tag)) +
  geom_line(linewidth = 1.1) +
  geom_point(size = 1.6) +
  labs(
    title = "√âvolution du nombre de jeux sortis par tag ",
    x = "Ann√©e de sortie",
    y = "Nombre de jeux sortis",
    color = "Tag"
  ) +
  theme_minimal(base_size = 10)

## 2. Jeux sortis avant ou en 2015 (top 10 tags)
games_tags_pre2015 <- games_tags %>% filter(year <= 2013) %>% filter(year > 2005)
genre_year_pre2015 <- games_tags_pre2015 %>%
  group_by(year, tag) %>%
  summarise(n = n(), .groups = "drop")
top_tags_pre2015 <- genre_year_pre2015 %>%
  group_by(tag) %>%
  summarise(total = sum(n)) %>%
  arrange(desc(total)) %>%
  slice_head(n = 10) %>%
  pull(tag)
genre_year_pre2015_top <- genre_year_pre2015 %>% filter(tag %in% top_tags_pre2015)

# Graphique avant 2013 et apr√®s 2005
ggplot(genre_year_pre2015_top, aes(x = year, y = n, color = tag)) +
  geom_line(linewidth = 1.1) +
  geom_point(size = 1.6) +
  labs(
    title = "√âvolution des tags pour les jeux sortis avant ou en 2013",
    x = "Ann√©e de sortie",
    y = "Nombre de jeux sortis",
    color = "Tag"
  ) +
  theme_minimal(base_size = 10)

## 3. Jeux sortis apr√®s 2013 
games_tags_post2015 <- games_tags %>% filter(year > 2013)
genre_year_post2015 <- games_tags_post2015 %>%
  group_by(year, tag) %>%
  summarise(n = n(), .groups = "drop")
top_tags_post2015 <- genre_year_post2015 %>%
  group_by(tag) %>%
  summarise(total = sum(n)) %>%
  arrange(desc(total)) %>%
  slice_head(n = 10) %>%
  pull(tag)
genre_year_post2015_top <- genre_year_post2015 %>% filter(tag %in% top_tags_post2015)

# Graphique apr√®s 2013
ggplot(genre_year_post2015_top, aes(x = year, y = n, color = tag)) +
  geom_line(linewidth = 1.1) +
  geom_point(size = 1.6) +
  labs(
    title = "√âvolution des tags pour les jeux sortis apr√®s 2013",
    x = "Ann√©e de sortie",
    y = "Nombre de jeux sortis",
    color = "Tag"
  ) +
  theme_minimal(base_size = 10)


```

### Interpr√©tation
Sur le graphique global on voit une explosion du nombre de jeux en 2013. Une explication probable est la sortie de la PS4 et Xbox One cette ann√©e l√†. Les √©diteurs se sont peut √™tre concentr√© sur des version pc plutot que sur des √©dition console qui aurait touch√© une population plus faible de joueurs. 

Quand au tag en eux-m√™me, on remarque une forte ascencion des jeux independant ainsi que des jeux single player notamment sur l'ann√©e 2020 et 2021. Cette augementation des jeux single player pourrait √™tre expliqu√© par le covid. Tous les "petit jeux" pouvais √™tre des jeux rapide √† d√©velopper pour les studio pour r√©pondre √† une demande imm√©diate.

Sur les deux grap de focus, on peut remarquer une croissance assez stable grace √† cette s√©paration.

### Correlation tag-grosse sortie
Cette derni√®re partie visera √† d√©termin√© si un jeu best seller peu influencer ces tags ou est ce que c'est plut√¥t un tendance global qui influait ces tags

### Visualisation
```{r}
# 1. Pr√©paration des donn√©es
games_tags <- left_join(tags, clean_games %>% select(app_id, release_date), by = "app_id") %>%
  filter(!is.na(tag), !is.na(release_date)) %>%
  mutate(year = year(ymd(release_date)))

games_with_owners <- games_tags %>%
  left_join(
    steamspy %>%
      mutate(owner_min = as.numeric(str_replace_all(str_extract(owners_range, "^[0-9,]+"), ",", ""))),
    by = "app_id"
  ) %>%
  left_join(clean_games %>% select(app_id, name), by = "app_id")

# 2. Fonction utilitaire pour top jeu par ann√©e
get_top_game_by_year <- function(df) {
  df %>%
    group_by(year, app_id, name) %>%
    summarise(owner_min = max(owner_min, na.rm = TRUE), .groups = "drop") %>%
    filter(!is.na(year), !is.na(owner_min)) %>%
    group_by(year) %>%
    slice_max(order_by = owner_min, n = 1, with_ties = FALSE) %>%
    ungroup()
}

# 3. Fonction utilitaire pour placer les labels en haut
get_label_position <- function(curve_data, top_game_data) {
  max_y_per_year <- curve_data %>%
    group_by(year) %>%
    summarise(y_max = max(n), .groups = "drop")
  left_join(top_game_data, max_y_per_year, by = "year")
}

### --- P√©riode avant ou en 2013 ---
games_pre2013 <- games_with_owners %>% filter(year <= 2013) %>% filter(year > 2005)
genre_year_pre2013 <- games_pre2013 %>%
  group_by(year, tag) %>%
  summarise(n = n(), .groups = "drop")
top_tags_pre2013 <- genre_year_pre2013 %>%
  group_by(tag) %>%
  summarise(total = sum(n)) %>%
  arrange(desc(total)) %>%
  slice_head(n = 10) %>%
  pull(tag)
genre_year_pre2013_top <- genre_year_pre2013 %>% filter(tag %in% top_tags_pre2013)
top_game_pre2013 <- get_top_game_by_year(games_pre2013)
top_game_pre2013_label <- get_label_position(genre_year_pre2013_top, top_game_pre2013)

### --- P√©riode apr√®s 2013 ---
games_post2013 <- games_with_owners %>% filter(year > 2013)
genre_year_post2013 <- games_post2013 %>%
  group_by(year, tag) %>%
  summarise(n = n(), .groups = "drop")
top_tags_post2013 <- genre_year_post2013 %>%
  group_by(tag) %>%
  summarise(total = sum(n)) %>%
  arrange(desc(total)) %>%
  slice_head(n = 10) %>%
  pull(tag)
genre_year_post2013_top <- genre_year_post2013 %>% filter(tag %in% top_tags_post2013)
top_game_post2013 <- get_top_game_by_year(games_post2013)
top_game_post2013_label <- get_label_position(genre_year_post2013_top, top_game_post2013)

### --- P√©riode globale (toutes ann√©es) ---
genre_year_all <- games_with_owners %>%
  group_by(year, tag) %>%
  summarise(n = n(), .groups = "drop")
top_tags_all <- genre_year_all %>%
  group_by(tag) %>%
  summarise(total = sum(n)) %>%
  arrange(desc(total)) %>%
  slice_head(n = 10) %>%
  pull(tag)
genre_year_all_top <- genre_year_all %>% filter(tag %in% top_tags_all)
top_game_all <- get_top_game_by_year(games_with_owners)
top_game_all_label <- get_label_position(genre_year_all_top, top_game_all)

# --- Graphique 3 : global ---
ggplot(genre_year_all_top, aes(x = year, y = n, color = tag)) +
  geom_line(linewidth = 1.1) +
  geom_point(size = 1.6) +
  geom_vline(
    data = top_game_all_label, 
    aes(xintercept = year), 
    linetype = "dotted", color = "black", linewidth = 0.6
  ) +
  geom_text(
    data = top_game_all_label,
    aes(x = year, y = y_max, label = stringr::str_trunc(name, 15, "right")),
    color = "black",
    angle = 90, vjust = -0.5, hjust = 0, size = 2.7
  ) +
  labs(
    title = "√âvolution des tags - Toutes ann√©es\n+ jeu le plus poss√©d√© chaque ann√©e ",
    x = "Ann√©e de sortie",
    y = "Nombre de jeux sortis",
    color = "Tag"
  ) +
  theme_minimal(base_size = 10)
  
# --- Graphique 1 : avant ou en 2013 ---
ggplot(genre_year_pre2013_top, aes(x = year, y = n, color = tag)) +
  geom_line(linewidth = 1.1) +
  geom_point(size = 1.6) +
  geom_vline(
    data = top_game_pre2013_label, 
    aes(xintercept = year), 
    linetype = "dotted", color = "black", linewidth = 0.6
  ) +
  geom_text(
    data = top_game_pre2013_label,
    aes(x = year, y = y_max, label = stringr::str_trunc(name, 15, "right")),
    color = "black",
    angle = 90, vjust = -0.5, hjust = 0, size = 2.7
  ) +
  labs(
    title = "√âvolution des tags - Jeux sortis avant ou en 2013\n+ jeu le plus poss√©d√© chaque ann√©e",
    x = "Ann√©e de sortie",
    y = "Nombre de jeux sortis",
    color = "Tag"
  ) +
  theme_minimal(base_size = 10)

# --- Graphique 2 : apr√®s 2013 ---
ggplot(genre_year_post2013_top, aes(x = year, y = n, color = tag)) +
  geom_line(linewidth = 1.1) +
  geom_point(size = 1.6) +
  geom_vline(
    data = top_game_post2013_label, 
    aes(xintercept = year), 
    linetype = "dotted", color = "black", linewidth = 0.6
  ) +
  geom_text(
    data = top_game_post2013_label,
    aes(x = year, y = y_max, label = stringr::str_trunc(name, 15, "right")),
    color = "black",
    angle = 90, vjust = -0.5, hjust = 0, size = 2.7
  ) +
  labs(
    title = "√âvolution des tags - Jeux sortis apr√®s 2013\n+ jeu le plus poss√©d√© chaque ann√©e",
    x = "Ann√©e de sortie",
    y = "Nombre de jeux sortis",
    color = "Tag"
  ) +
  theme_minimal(base_size = 10)



```

### Interpr√©tation
On se concentrera sur les 2 grpahiques de focus sur les p√©riodes avant et apr√®s 2013. 
Ici on voit apparaitre le best seller de l'ann√©e. On peut donc estimer si le jeu en question √† une relation avec les jeux sorties cette ann√©e. 

Par exemple certain jeux n'ont rien √† voir avec les "gros" tags des jeux sorties cette ann√©e l√†. Par exemple Left 4 dead 1 et 2 en 2008 et 2009 se retrouve uniquement dans 2 tags (Action et multiplayer). On pourrait donc estimer que c'est un bon jeux malgr√© qu'il n'ai pas forc√©ment surfer sur la vague du moment. 
En revanche si on regarde Trove en 2015, il coche toute les cases de plusieurs des meilleur tags (3D, action, adventure, casual). 

### Limites et attentions

Il faut absolument garder en t√™te que le dataset ne se base pas sur tout l'historique de steam mais bien sur une journ√©e ce qui peut donc ne pas √™tre repr√©sentatif √† la perfection.

Les r√©sultat pr√©sents sont limit√©s par le fait que beaucoup de jeux peuvent avoir plusieurs tags et donc compter plusieurs fois et biaiser les r√©sultat. Ici impossible de faire la distcntion car il n'y a pas de hi√©rarchisation des tags. N√©amoins une possibilit√© pourrait √™tre de donner un poids a√† certains tags trop g√©n√©rique pour observer des r√©sultat plus ax√© sur le theme du jeux en lui m√™me (military plutot que multiplayer)

Nous sommes √©galement limit√© par l'explicit√© des tags, par exemple, Coop online est-il r√©serv√© au jeux qui proposent un matchmaking ou aux jeux permettant d'invit√© ses amis ou les deux. Ces petites impr√©cision affecte √©galement la pertinence de l'analyse.